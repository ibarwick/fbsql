fbsql - a command-line client for Firebird
==========================================

`fbsql` is a simple command-line client for the Firebird database, inspired
by PostgreSQL's `psql`. It is very much a proof-of-concept serving primarily
as a testbed for `libfq` (itself an experimental partial port of PostgreSQL's
`libpq` ).

fbsql provides some advantages over Firebird's native client `isql`,
including:

 - `libreadline`-based tab completion for both SQL and database objects
 - some useful meta commands ("slash commands")
 - autocommit mode (default: `on`)
 - indicates transaction status in the prompt

Note that by default, fbsql assumes a UTF-8 environment. An alternative
encoding can be provided with the `-C/--client-encoding` command line option,
however it is not possible to switch encoding during a session.

`fbsql` is far from complete. *USE AT YOUR OWN RISK.*


Installation
------------

`fbsql` requires `libfq` ( https://github.com/ibarwick/libfq ) and both
require the Firebird client library and header files. It also requires
`libreadline`.

The usual:

    ./configure
    make install

You may need to specify the location of `ibase.h` in `CFLAGS`.


Usage
-----


    $ fbsql --help
    fbsql is an interactive terminal for Firebird.

    Usage:
      fbsql [OPTION]... [DBNAME [USERNAME]]

    General options:
      -V, --version            output version information, then exit
      -?, --help               show this help, then exit

    Connection options:
      -d, --dbname=DBNAME      database to connect to
      -u, --username=USERNAME  database user name
      -p, --password           password
      -C, --client-encoding    client encoding (default: UTF-8)

    Display options:
      -E, --echo-internal      display queries generated by internal commands


e.g.:

    fbsql -d localhost:/srv/firebird/employee.fdb -u sysdba -p masterke

The environment variables `ISC_DATABASE`, `ISC_USER` and `ISC_PASSWORD` are also
recognized.

After connecting to Firebird, queries can be executed. Enter `help` for some
very basic help, or `\?` for details on available slash commands:

    fbsql 0.1.4
    Connected to Firebird v2.5.7 (libfq version 0.1.5dev)
    SQL> \?
    General
      \copyright             Show fbsql copyright information
      \g or ;                execute query
      \q                     quit fbsql

    Display
      \a                     Toggle aligned mode (currently on)
      \format OPTION [VALUE] Set or show table output formatting option:
                               {alignment|border|null}
      \plan [SETTING]        Display plan {off|on|only} (currently off)
      \timing                Toggle excution timing (currently on)

    Environment
      \activity              Show information about current database activity
      \conninfo              Show information about the current connection

    Database
      (options: S = show system objects, + = additional detail)
      \l                     List information about the current database
      \autocommit            Toggle autocommit (currently on)
      \d      NAME           List information about the specified object
      \df     [PATTERN]      List information about functions matching [PATTERN]
      \di[S+] [PATTERN]      List information about indexes matching [PATTERN]
      \dp     [PATTERN]      List information about procedures matching [PATTERN]
      \ds[S]  [PATTERN]      List information about sequences (generators) matching [PATTERN]
      \dt[S]  [PATTERN]      List information about tables matching [PATTERN]
      \du                    List users granted privileges on this database
      \dv     [PATTERN]      List information about views matching [PATTERN]
      \util   [COMMAND]      execute utility command
                                {set_index_statistics}
    SQL>


Limitations
-----------

Many, in particular:

 - command terminator is limited to a semicolon; it is currently not possible
   to create functions/procedures with `fbsql`
 - no `BLOB`/`ARRAY` support (due to missing support in `libfq`)
 - does not properly align column data containing non-ASCII characters
 - no configuration file support


